{
  "__inputs": [],
  "annotations": { "list": [] },
  "description": "Day 60 – Multi-Region Log Replication Dashboard",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{"color":"green","value":null},{"color":"red","value":80}] } },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 0 },
      "id": 1,
      "title": "Total Events Produced (Region A)",
      "type": "stat",
      "targets": [{ "expr": "log_producer_send_total{region=\"region-a\",status=\"success\"}", "legendFormat": "Region A Produced" }]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{"color":"green","value":null},{"color":"red","value":80}] } },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 0 },
      "id": 2,
      "title": "Total Events Produced (Region B)",
      "type": "stat",
      "targets": [{ "expr": "log_producer_send_total{region=\"region-b\",status=\"success\"}", "legendFormat": "Region B Produced" }]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{"color":"green","value":null},{"color":"yellow","value":10},{"color":"red","value":100}] } },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 0 },
      "id": 3,
      "title": "Deduplication Hits (Total)",
      "type": "stat",
      "targets": [{ "expr": "sum(dedup_hits_total)", "legendFormat": "Total Dedup Hits" }]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": {
        "defaults": { "color": { "mode": "thresholds" }, "thresholds": { "mode": "absolute", "steps": [{"color":"green","value":null},{"color":"yellow","value":5},{"color":"red","value":50}] } },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 0 },
      "id": 4,
      "title": "Late Arrivals",
      "type": "stat",
      "targets": [{ "expr": "sum(reorder_late_arrivals_total)", "legendFormat": "Late Arrivals" }]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 4 },
      "id": 5,
      "title": "Event Production Rate (events/sec)",
      "type": "timeseries",
      "targets": [
        { "expr": "rate(log_producer_send_total{status=\"success\",region=\"region-a\"}[30s])", "legendFormat": "Region A" },
        { "expr": "rate(log_producer_send_total{status=\"success\",region=\"region-b\"}[30s])", "legendFormat": "Region B" }
      ]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } }, "overrides": [] },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 4 },
      "id": 6,
      "title": "Consumer Processing Rate",
      "type": "timeseries",
      "targets": [
        { "expr": "rate(log_consumer_processed_total{region=\"region-a\"}[30s])", "legendFormat": "Consumer A" },
        { "expr": "rate(log_consumer_processed_total{region=\"region-b\"}[30s])", "legendFormat": "Consumer B" },
        { "expr": "rate(log_consumer_duplicates_total[30s])", "legendFormat": "Duplicates Dropped" }
      ]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" }, "unit": "s" }, "overrides": [] },
      "gridPos": { "h": 6, "w": 12, "x": 0, "y": 12 },
      "id": 7,
      "title": "Producer Send Latency (p99)",
      "type": "timeseries",
      "targets": [
        { "expr": "histogram_quantile(0.99, rate(log_producer_send_duration_seconds_bucket{region=\"region-a\"}[1m]))", "legendFormat": "Region A p99" },
        { "expr": "histogram_quantile(0.99, rate(log_producer_send_duration_seconds_bucket{region=\"region-b\"}[1m]))", "legendFormat": "Region B p99" }
      ]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } }, "overrides": [] },
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 12 },
      "id": 8,
      "title": "Reorder Buffer Size",
      "type": "timeseries",
      "targets": [
        { "expr": "reorder_buffer_size{region=\"region-a\"}", "legendFormat": "Region A Buffer" },
        { "expr": "reorder_buffer_size{region=\"region-b\"}", "legendFormat": "Region B Buffer" }
      ]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } }, "overrides": [] },
      "gridPos": { "h": 6, "w": 12, "x": 0, "y": 18 },
      "id": 9,
      "title": "Gateway Routing Fallbacks",
      "type": "timeseries",
      "targets": [
        { "expr": "rate(gateway_routing_fallbacks_total[30s])", "legendFormat": "Fallback Rate" }
      ]
    },
    {
      "datasource": "Prometheus",
      "fieldConfig": { "defaults": { "color": { "mode": "palette-classic" } }, "overrides": [] },
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 18 },
      "id": 10,
      "title": "Producer Failures",
      "type": "timeseries",
      "targets": [
        { "expr": "rate(log_producer_send_total{status=\"failure\",region=\"region-a\"}[30s])", "legendFormat": "Region A Failures" },
        { "expr": "rate(log_producer_send_total{status=\"failure\",region=\"region-b\"}[30s])", "legendFormat": "Region B Failures" }
      ]
    }
  ],
  "refresh": "5s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": ["day60", "multi-region", "replication", "kafka"],
  "templating": { "list": [] },
  "time": { "from": "now-15m", "to": "now" },
  "timepicker": {},
  "timezone": "",
  "title": "Day 60 – Multi-Region Log Replication",
  "uid": "day60-mr-repl",
  "version": 1
}
